const filterAllUstensils = (recettes) => {
  const ul = document.querySelector(".ustensiles");
  let allUstensils = [];
  recettes.forEach((recette) => {
    recette.ustensils.filter(
      (ustensil) =>
        !allUstensils.includes(ustensil.toLowerCase()) &&
        allUstensils.push(ustensil.toLowerCase())
    );
  });

  allUstensils.forEach((ustensil) => {
    let li = document.createElement("li");
    li.innerText = ustensil;
    ul.append(li);
    li.style.cursor = "pointer";

    li.addEventListener("click", () => {
      stateRecipes.ustensils = "";
      stateRecipes.ustensils = li.innerText.toLowerCase();

      createTagFilter("tag_ustensil", li.innerText.toLowerCase());

      const ustensils = filterUstensile(
        stateRecipes.searchRecipeFilter.length > 0
          ? stateRecipes.searchRecipeFilter
          : stateRecipes.recipes,
        ustensil
      );

      stateRecipes.searchRecipeFilter.shift();
      stateRecipes.searchRecipeFilter.push(...ustensils);

      allCard.innerHTML = "";
      ustensils.forEach((recette) => {
        card(recette);
      });

      nbRecette.innerText = `${ustensils.length} Recettes`;
      allUl.forEach((ul) => {
        ul.innerHTML = "";
      });
      displayAllInfo(ustensils);
    });
  });
};